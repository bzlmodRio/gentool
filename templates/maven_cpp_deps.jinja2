load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")
load("@bazel_tools//tools/build_defs/repo:utils.bzl", "maybe")

def setup_{{group.repo_name}}_dependencies():
    {%- for cpp_dep in group.cc_deps %}
    {%- for resource in cpp_dep.resources %}
    {%- set sha256 = cpp_dep.get_sha256(resource) %}
    {%- if sha256 %}
    maybe(
        http_archive,
        "{{cpp_dep.get_archive_name(resource)}}",
        url = "{{cpp_dep.get_url(resource)}}",
        sha256 = "{{cpp_dep.get_sha256(resource)}}",
        build_file_content = {{cpp_dep.get_build_file_content(resource)}},
    )
    {%- endif %}
    {%- endfor %}
    {%- endfor %}
